@page "/eventdetails/{id:int}"
@using EventEaseApp.Models

<h2>Event Details</h2>

@if (eventDetail == null)
{
    <p class="text-warning">Event not found. Please return to <a href="">Events</a>.</p>
}
else
{
    <p><strong>Name:</strong> @eventDetail.Name</p>
    <p><strong>Date:</strong> @eventDetail.Date.ToString("MMMM dd, yyyy")</p>
    <p><strong>Location:</strong> @eventDetail.Location</p>

    <div class="btn-group mt-3">
        <a class="btn btn-success" href="/register/@eventDetail.Id">Register</a>
        <a class="btn btn-info" href="/attendance/@eventDetail.Id">View Attendance</a>
        <a class="btn btn-secondary" href="">Back to Events</a>
    </div>
}


@code {
    [Parameter] public int id { get; set; }

    private EventModel? eventDetail;

    protected override void OnInitialized()
    {
        var mockEvents = new List<EventModel>
        {
            new EventModel { Id = 1, Name = "Corporate Gala", Date = DateTime.Now.AddDays(10), Location = "New York" },
            new EventModel { Id = 2, Name = "Tech Conference", Date = DateTime.Now.AddDays(30), Location = "San Francisco" },
            new EventModel { Id = 3, Name = "Wedding Expo", Date = DateTime.Now.AddDays(45), Location = "Chicago" }
        };

        eventDetail = mockEvents.FirstOrDefault(e => e.Id == id);
    }
}
